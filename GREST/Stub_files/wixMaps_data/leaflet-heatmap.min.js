/**
 * Minified by jsDelivr using UglifyJS v3.4.2.
 * Original file: /npm/leaflet-heatmap@1.0.0/leaflet-heatmap.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,i,e){if("undefined"!=typeof module&&module.exports)module.exports=e(require("heatmap.js"),require("leaflet"));else if("function"==typeof define&&define.amd)define(["heatmap.js","leaflet"],e);else{if(void 0===window.h337)throw new Error("heatmap.js must be loaded before the leaflet heatmap plugin");if(void 0===window.L)throw new Error("Leaflet must be loaded before the leaflet heatmap plugin");i.HeatmapOverlay=e(window.h337,window.L)}}(0,this,function(e,l){"use strict";void 0===l.Layer&&(l.Layer=l.Class);var i=l.Layer.extend({initialize:function(t){this.cfg=t,this._el=l.DomUtil.create("div","leaflet-zoom-hide"),this._data=[],this._max=1,this._min=0,this.cfg.container=this._el},onAdd:function(t){var i=t.getSize();this._map=t,this._width=i.x,this._height=i.y,this._el.style.width=i.x+"px",this._el.style.height=i.y+"px",this._el.style.position="absolute",this._origin=this._map.layerPointToLatLng(new l.Point(0,0)),t.getPanes().overlayPane.appendChild(this._el),this._heatmap||(this._heatmap=e.create(this.cfg)),t.on("moveend",this._reset,this),this._draw()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._el),t.off("moveend",this._reset,this)},_draw:function(){if(this._map){var t=this._map.getPanes().mapPane._leaflet_pos;this._el.style[i.CSS_TRANSFORM]="translate("+-Math.round(t.x)+"px,"+-Math.round(t.y)+"px)",this._update()}},_update:function(){var t,i,e,a={max:this._max,min:this._min,data:[]};if(t=this._map.getBounds(),i=this._map.getZoom(),e=Math.pow(2,i),0!=this._data.length){for(var s=[],h=this.cfg.scaleRadius?e:1,n=0,r=0,l=this.cfg.valueField,d=this._data.length;d--;){var o=this._data[d],_=o[l],m=o.latlng;if(t.contains(m)){n=Math.max(_,n),r=Math.min(_,r);var f,u=this._map.latLngToContainerPoint(m),g={x:Math.round(u.x),y:Math.round(u.y)};g[l]=_,f=o.radius?o.radius*h:(this.cfg.radius||2)*h,g.radius=f,s.push(g)}}this.cfg.useLocalExtrema&&(a.max=n,a.min=r),a.data=s,this._heatmap.setData(a)}else this._heatmap&&this._heatmap.setData(a)},setData:function(t){this._max=t.max||this._max,this._min=t.min||this._min;for(var i=this.cfg.latField||"lat",e=this.cfg.lngField||"lng",a=this.cfg.valueField||"value",s=(t=t.data).length,h=[];s--;){var n=t[s],r={latlng:new l.LatLng(n[i],n[e])};r[a]=n[a],n.radius&&(r.radius=n.radius),h.push(r)}this._data=h,this._draw()},addData:function(t){if(0<t.length)for(var i=t.length;i--;)this.addData(t[i]);else{var e=this.cfg.latField||"lat",a=this.cfg.lngField||"lng",s=this.cfg.valueField||"value",h=t,n={latlng:new l.LatLng(h[e],h[a])};n[s]=h[s],this._max=Math.max(this._max,n[s]),this._min=Math.min(this._min,n[s]),h.radius&&(n.radius=h.radius),this._data.push(n),this._draw()}},_reset:function(){this._origin=this._map.layerPointToLatLng(new l.Point(0,0));var t=this._map.getSize();this._width===t.x&&this._height===t.y||(this._width=t.x,this._height=t.y,this._el.style.width=this._width+"px",this._el.style.height=this._height+"px",this._heatmap._renderer.setDimensions(this._width,this._height)),this._draw()}});return i.CSS_TRANSFORM=function(){for(var t=document.createElement("div"),i=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],e=0;e<i.length;e++){var a=i[e];if(void 0!==t.style[a])return a}return i[0]}(),i});
//# sourceMappingURL=/sm/7f6c011242f228912e864acf3d61dfcd80edc4cf39ebaf5243fe2de1fe3f3a2d.map